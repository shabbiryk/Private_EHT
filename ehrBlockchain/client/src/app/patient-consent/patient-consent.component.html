<nav class="bg-green-500 p-3">
  <div class="flex justify-center flex-wrap">
    <a (click)="goBack()" class="btn-primary px-4 py-2 cursor-pointer">
      Return to Dashboard
    </a>
  </div>
</nav>
<app-alert></app-alert>
<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="square-jelly-box">
  <p style="font-size: 20px; color: black"><b>Loading...</b></p>
</ngx-spinner>

<div class="container mt-4 text-white flex justify-center">

  <div class="flex flex-col justify-center align-middle p-16 max-w-xl rounded-md bg-green-500">

    <h5 class="flex-1 text-3xl text-center">Patient Consent</h5>

    <form [formGroup]="form" class="flex-1 text-center mt-6" #patientInformation>

      <div id="patientId" style="padding: 2px;">
        <div class="flex justify-center">
          <label for="patientId" class="text-xl"> <span class="text-2xl">Patient ID : </span>
            <div *ngIf="patientId!=0; else zero">
              <input formControlName="patientId" class="form-control input-area" type="text" value="{{patientId}}"
                placeholder="{{patientId}}" readonly>

              <button class="btn-primary mt-4" (click)="sendVerificationCode()">Send code</button>
            </div>

            <ng-template #zero>
              <input formControlName="patientId" class="form-control input-area" type="text"
                placeholder="New Patient Id">
              <button class="btn-primary mt-4" (click)="sendVerificationCodeNewPatient()">Send code</button>
            </ng-template>
          </label>


        </div>
      </div>

      <div *ngIf="flag==true" class="mt-4 border border-t-4 p-2">
        <p class="text-xl font-semibold text-white">Please enter the verifcation code provided by your patient.</p>
        <div class="row">
          <div class=" col-md-offset-1 col">
            <div style="display: inline;">
              <label for="verificationCode"> <span class="font-bold text-xl">OTP : </span> 
              <input formControlName="code" class="form-control input-area" type="text">
              </label>

              <button class="btn-primary mt-4 px-4 font-bold text-xl tracking-wide" (click)="verifyCode()">Verify OTP</button>
            </div>
          </div>
        </div>
      </div>




    </form>


  </div>
</div>
